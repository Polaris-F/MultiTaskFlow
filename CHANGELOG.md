# 更新日志

## [0.1.5] - 2025年11月10日
### 新功能
- **任务跳过功能**：支持在配置文件中使用 `status: skipped` 跳过任务执行
  - 加载任务时自动过滤 `status` 为 `skipped` 的任务
  - 日志输出跳过的任务数量和名称
  - 适用于临时禁用某些任务的场景

### 优化
- 新增 `STATUS_SKIPPED` 状态常量
- 改进 `load_tasks()` 方法的日志输出，区分加载和跳过的任务

### 文档
- 更新 README，添加 `status` 字段详细说明
- 添加任务跳过功能的使用示例
- 新增 TODO 章节，规划动态任务管理功能（基于 watchdog 的文件监控）

## [0.1.4] - 2025年11月10日
### 新功能
- **智能环境变量加载**：优先从配置文件同目录加载 `.env` 文件，提升配置管理便利性
  - 优先级顺序：配置文件同目录 > 当前工作目录 > 向上递归查找
  - 未找到时会提示推荐的创建位置
- **环境变量配置检查**：启动时和配置变更时自动显示环境变量配置状态
  - 显示 `.env` 文件加载位置
  - Token 脱敏显示（前6位...后6位）
  - 实时显示 `MTF_SILENT_MODE` 状态
  - 支持彩色输出（需安装 `colorama`，可选）
- **环境变量变更检测**：任务执行前自动检测环境变量变化，有变化时重新显示配置

### 优化
- 每个任务执行前重新加载环境变量，支持运行时修改 `.env` 文件
- 改进日志输出层级，环境变量加载使用 debug 级别
- 添加 `colorama` 作为可选依赖，提供更友好的彩色输出

### 文档
- 更新 README，添加环境变量加载机制说明
- 添加彩色输出可选功能说明


## [0.1.3] - 2025年5月13日
### 新功能
- 增加环境变量静默模式，通过设置MTF_SILENT_MODE环境变量控制是否发送消息通知，适用于无网络或者不想要接收消息场景
### 优化
- 优化日志输出，提供更清晰的任务状态信息

## [0.1.1] - 2025年4月30日



### 修复
- MSG_PUSH_TOKEN环境变量读取问题 

## 2025年5月12日 TODO

1. CLI 命令增加一个 监听单个任务的功能：
    输入 taskflow monitor 'XXX', 其中'XXX'表示需要监听的任务的进程名称，针对已经有一个且只有一个任务已经在跑的场景，通过 monitor 在任务结束发送消息。
<!-- 2. 发送消息改为  -->
